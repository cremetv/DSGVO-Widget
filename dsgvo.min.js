"use strict";
/*! @license
 * DSGVO/GDPR API
 * Script to include the privacy statement & imprint into websites from a central point
 * copyright Marcel Hauser (https://ice-creme.de/)
*/var db=[{key:"lor3m1p5um",id:1,name:"Lorem ipsum",privacy:"Datenschutzerklärung lorem ipsum ...",impressum:"Impressum lorem ipsum ..."},{key:"asdf142",id:2,name:"Asdf",privacy:"Datenschutzerklärung asdf ...",impressum:"Impressum asdf ..."},{key:"5adc3t7",id:3,name:"sad cett",privacy:"Datenschutzerklärung sad cett ...",impressum:"Impressum sad cett ..."}],DSGVO=DSGVO||function(){var s={};return{init:function(e){s=e},get:function(r,s){var o=this;return new Promise(function(n,e){o.getData().then(function(e){if(!r&&!s)return n(e);var t=document.querySelector(s);return t?e[r]?void o.insertData(t,e[r]):console.error("DSGVO: type '"+r+"' not found"):console.error("DSGVO: target '"+s+"' not found")}).catch(function(e){return console.error("DSGVO:",e)})})},getData:function(){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET","getData.php?key="+s.key,!0),r.addEventListener("load",function(e){200<=r.status&&r.status<300?t(JSON.parse(r.responseText)):n("There was an error receiving the data")}),r.send()})},insertData:function(e,t){t.sort(function(e,t){return e.position-t.position}),this.getElements().then(function(n){var r="";t.forEach(function(t){var e=void 0;e=1===t.custom?n.customElements.find(function(e){return e.id===t.elementId}):n.elements.find(function(e){return e.id===t.elementId}),r+="<p>"+e.content+"</p>"}),e.innerHTML=r})},getElements:function(){return new Promise(function(t,e){var n=new XMLHttpRequest;n.open("GET","getElements.php",!0),n.addEventListener("load",function(e){if(200<=n.status&&n.status<300)return t(JSON.parse(n.responseText))}),n.send()})}}}();
//# sourceMappingURL=dsgvo.min.js.map